<!DOCTYPE html>
<html lang="pt-BR" ng-app="whatsapp">
    <head>
        <!--Import materialize.css-->
        <link type="text/css" rel="stylesheet" href="assert/css/materialize.css" media="screen,projection" />
        <link type="text/css" rel="stylesheet" href="assert/css/app.css">
        <!--Let browser know website is optimized for mobile-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>AngularJS</title>
    </head>
    <body ng-controller="whatsController">
        <header>
            <nav>
                <div class="nav-wrapper teal darken-4">
                    <a href="#!" class="brand-logo logo">
                        WhatsApp
                    </a>
                    <ul class="right">
                        <li>
                            <a href="#"><i class="mdi-action-search"></i></a>
                        </li>
                        <li>
                            <a href="{{linkIcon}}"><i class="{{iconOpcao}}"></i></a>
                        </li>
                        <li>
                            <a href="#"><i class="mdi-navigation-more-vert"></i></a>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>

        <main>
            <div class="row">
                <div class="col s12 teal darken-4 z-depth-1">
                    <ul class="tabs teal darken-4">
                        <li class="tab col s3">
                            <a class="white-text" href="#chamadas" ng-click="mudarPagina('chamadas')">CHAMADAS</a></li>
                        <li class="tab col s3">
                            <a class="white-text active" href="#conversas" ng-click="mudarPagina('conversas')">CONVERSAS</a></li>
                        <li class="tab col s3">
                            <a class="white-text" href="#contatos" ng-click="mudarPagina('contatos')">CONTATOS</a></li>
                    </ul>
                </div>
                <div id="chamadas" class="row">
                    <ul class="collection">
                        <li class="collection-item avatar" ng-repeat="chamadas in historicoLigacoes">
                            <img src="#" alt="" class="circle">
                            <div class="box-chat">
                                <span class="title">Subzo</span>
                                <p>1 minuto atr√°s, 00:44</p>
                                <a href="#!" class="secondary-content grey-text text-darken-3"><i class="small mdi-communication-call"></i></a>
                            </div>
                        </li>
                    </ul>
                </div>
                <div id="conversas" class="row">
                    <ul class="collection">
                        <li class="collection-item avatar" ng-repeat="conversa in historicoConversas | orderBy:'-dataHora' | unique: 'destinatarioId'">
                            <img src="{{buscarContato(conversa.destinatarioId)[0].fotoLink}}" alt="" class="circle">
                            <div class="box-chat">
                                <span class="title">
                                    {{buscarContato(conversa.destinatarioId)[0].nome | limitTo : 15}}
                                </span>
                                <p>{{conversa.mensagem | limitTo : 55}} 
                                <span class="new badge message message2" ng-show="conversa.contador > 0 && conversa.lida">{{conversa.contador | limitTo : 3}}</span></p>
                                <a href="#!" class="secondary-content grey-text text-darken-3">{{conversa.dataHora | date : 'dd/MM/yyyy' | uppercase }}</a>
                            </div>
                        </li>
                    </ul>
                </div>
                <div id="contatos" class="row">
                    <ul class="collection">
                        <li class="collection-item avatar" ng-repeat="contato in listaContatos | orderBy:'nome' ">
                            <img src="{{contato.fotoLink}}" alt="" class="circle">
                            <div class="box-chat">
                                <span class="title">{{ contato.nome | limitTo : 15 }}</span>
                                <p>{{contato.status | limitTo : 55}}</p>
                                <a href="#!" class="secondary-content grey-text text-darken-3">{{contato.tipo | uppercase }}</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </main>
        <footer>

        </footer>

        <!--Import jQuery before materialize.js-->
    </body>
    <script type="text/javascript" src="assert/js/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="assert/js/materialize.min.js"></script>
    <script type="text/javascript" src="assert/js/angular.min.js"></script>
    <script type="text/javascript" src="assert/js/angular-route.js"></script>
    <script type="text/javascript" src="assert/js/angular-locale_pt-br.js"></script>
    <script type="text/javascript" src="assert/js/app.js"></script>
    <script type="text/javascript">
    </script>
</html>